<ion-header translucent>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>{{race.raceName}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content >
<!--si la course est finie et que les données sont disponible, on affiche le classement-->
<!--  sinon on affiche l'heure prévu du GP-->

  <ion-list *ngIf="isResumed; else blockDate">
    <!--  slides des classement pilote et constructeur-->
    <ion-slides pager="true">
    <!--  Résultat course-->
      <ion-slide>
        <ion-item lines="none">
          <ion-grid >
            <ion-row>
              <h2>Course</h2>
            </ion-row>

            <!--        entete du tableau-->
            <ion-row>
              <ion-col size="3" class="header">
                <ion-label>Pos</ion-label>
              </ion-col>

              <ion-col size="6" class="header">
                <ion-label>Pilote</ion-label>
              </ion-col>

              <ion-col size="3" class="header">
                <ion-label>Pts</ion-label>
              </ion-col>
            </ion-row>

            <!--        Pilote avec son rang et son totalt de points-->
            <ion-row *ngFor="let driver of race.Results">
              <ion-col size="3">
                <ion-label>{{driver.position}}</ion-label>
              </ion-col>

              <ion-col size="6">
                <ion-label>{{driver.Driver.familyName}}</ion-label>
              </ion-col>

              <ion-col size="3">
                <ion-label>{{driver.points}}</ion-label>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-slide>

      <!--      Résultat Qualifications-->
      <ion-slide>
        <ion-item lines="none" id="qualification">
          <ion-grid >
            <ion-row>
              <h2>Qualification</h2>
            </ion-row>

            <!--        entete du tableau-->
            <ion-row>
              <ion-col size="1" class="header">
              </ion-col>

              <ion-col size="2" class="header">
                <ion-label>Pilote</ion-label>
              </ion-col>

              <ion-col size="3" class="header">
                <ion-label>Q1</ion-label>
              </ion-col>

              <ion-col size="3" class="header">
                <ion-label>Q2</ion-label>
              </ion-col>

              <ion-col size="3" class="header">
                <ion-label>Q3</ion-label>
              </ion-col>
            </ion-row>

            <!--        Pilote avec son rang et ses chronos -->
            <ion-row *ngFor="let driver of race.QualifyingResults">
              <ion-col size="1" class="qualif-ranking">
                <ion-label>{{driver.position}}</ion-label>
              </ion-col>

              <ion-col size="2">
                <ion-label>{{driver.Driver.code}}</ion-label>
              </ion-col>

              <ion-col size="3">
                <ion-label>{{driver.Q1}}</ion-label>
              </ion-col>

              <ion-col size="3">
                <ion-label *ngIf="driver.Q2 != null">{{driver.Q2}}</ion-label>
              </ion-col>

              <ion-col size="3">
                <ion-label *ngIf="driver.Q3 != null">{{driver.Q3}}</ion-label>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-slide>
    </ion-slides>
  </ion-list>


  <ng-template #blockDate>
    <div class="horaire">
      Date prévue : {{race.dateTime.toLocaleDateString()}}
    </div>

    <div class="horaire">
      Heure de départ du GP : {{race.dateTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}}
    </div>
  </ng-template>
</ion-content>
